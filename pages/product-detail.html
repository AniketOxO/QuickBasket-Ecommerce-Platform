<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details - QuickBasket</title>
    <meta name="description" content="Detailed product information, reviews, and specifications - QuickBasket">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/responsive.css">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        .product-detail-page {
            background: var(--background-light);
            min-height: 100vh;
            padding: 40px 0;
        }
        
        .product-detail-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .breadcrumb {
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        .breadcrumb a {
            color: var(--primary-color);
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        .product-detail-main {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            margin-bottom: 60px;
        }
        
        /* Product Gallery */
        .product-gallery {
            position: sticky;
            top: 20px;
            height: fit-content;
        }
        
        .main-image-container {
            position: relative;
            margin-bottom: 20px;
            background: #2b2b2b; /* dark panel */
            border-radius: var(--border-radius);
            padding: 40px;
            box-shadow: 0 1px 0 rgba(255,255,255,0.06), 0 6px 20px rgba(0,0,0,0.25);
            border: 1px solid rgba(255,255,255,0.08);
            overflow: hidden;
        }
        
        .main-image {
            width: 100%;
            height: 400px;
            object-fit: contain;
            cursor: zoom-in;
        }
        
        .image-zoom-overlay {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .gallery-thumbnails {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        
        .thumbnail {
            width: 100%;
            height: 80px;
            object-fit: cover;
            border-radius: var(--border-radius);
            cursor: pointer;
            border: 2px solid transparent;
            transition: var(--transition);
        }
        
        .thumbnail:hover,
        .thumbnail.active {
            border-color: var(--primary-color);
        }
        
        .product-badges {
            position: absolute;
            top: 20px;
            left: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .badge {
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .badge.sale {
            background: var(--error-color);
            color: white;
        }
        
        .badge.new {
            background: var(--success-color);
            color: white;
        }
        
        .badge.organic {
            background: var(--warning-color);
            color: white;
        }
        
        /* Product Info */
        .product-info {
            background: #2b2b2b; /* dark panel */
            border-radius: var(--border-radius);
            padding: 40px;
            border: 1px solid rgba(255,255,255,0.08);
            box-shadow: 0 1px 0 rgba(255,255,255,0.06), 0 6px 20px rgba(0,0,0,0.25);
        }
        
        .product-title {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 15px;
            line-height: 1.3;
        }
        
        .product-brand {
            color: var(--primary-color);
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 20px;
        }
        
        .product-rating-section {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 25px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .rating-stars {
            display: flex;
            gap: 3px;
        }
        
        .rating-stars i {
            color: #ffc107;
            font-size: 1.2rem;
        }
        
        .rating-summary {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-light);
        }
        
        .rating-value {
            font-weight: 600;
            color: var(--text-dark);
        }
        
        .review-count {
            color: var(--primary-color);
            cursor: pointer;
            text-decoration: underline;
        }
        
        .product-price-section {
            margin-bottom: 30px;
        }
        
        .price-current {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }
        
        .price-original {
            font-size: 1.5rem;
            color: var(--text-light);
            text-decoration: line-through;
            margin-left: 15px;
        }
        
        .price-discount {
            background: var(--error-color);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-left: 15px;
        }
        
        .product-description {
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        .product-features {
            margin-bottom: 30px;
        }
        
        .features-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 15px;
        }
        
        .features-list {
            list-style: none;
            padding: 0;
        }
        
        .features-list li {
            padding: 8px 0;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .features-list li i {
            color: var(--success-color);
            font-size: 0.9rem;
        }
        
        .product-options {
            margin-bottom: 30px;
        }
        
        .option-group {
            margin-bottom: 20px;
        }
        
        .option-title {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 10px;
        }
        
        .size-options,
        .color-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .size-option,
        .color-option {
            padding: 10px 20px;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }
        
        .size-option:hover,
        .size-option.selected,
        .color-option:hover,
        .color-option.selected {
            border-color: var(--primary-color);
            background: var(--primary-light);
        }
        
        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            position: relative;
        }
        
        .color-option.selected::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            text-shadow: 0 0 3px rgba(0,0,0,0.5);
        }
        
        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .quantity-label {
            font-weight: 600;
            color: var(--text-dark);
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .quantity-btn {
            background: none;
            border: none;
            padding: 12px 16px;
            cursor: pointer;
            font-size: 1.2rem;
            color: var(--text-dark);
            transition: var(--transition);
        }
        
        .quantity-btn:hover {
            background: var(--background-light);
        }
        
        .quantity-input {
            border: none;
            padding: 12px 16px;
            text-align: center;
            width: 60px;
            font-size: 1.1rem;
            font-weight: 600;
            background: var(--background-light);
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .btn-add-cart {
            flex: 2;
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 18px 30px;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-add-cart:hover {
            background: var(--primary-dark);
        }
        
        .btn-wishlist,
        .btn-compare {
            flex: 0 0 auto;
            background: #1f1f1f;
            border: 2px solid rgba(255,255,255,0.12);
            padding: 18px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            color: rgba(255,255,255,0.9);
        }
        
        .btn-wishlist:hover,
        .btn-compare:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }
        
        .product-meta {
            border-top: 1px solid var(--border-color);
            padding-top: 20px;
        }
        
        .meta-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            color: var(--text-light);
        }
        
        .meta-item strong {
            color: var(--text-dark);
        }
        
        /* Product Tabs */
        .product-tabs {
            background: #2b2b2b; /* dark panel */
            border-radius: var(--border-radius);
            border: 1px solid rgba(255,255,255,0.08);
            box-shadow: 0 1px 0 rgba(255,255,255,0.06), 0 6px 20px rgba(0,0,0,0.25);
            margin-bottom: 40px;
        }
        
        .tab-navigation {
            display: flex;
            border-bottom: 1px solid var(--border-color);
        }
        
        .tab-btn {
            background: none;
            border: none;
            padding: 20px 30px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--text-light);
            transition: var(--transition);
            border-bottom: 3px solid transparent;
        }
        
        .tab-btn.active,
        .tab-btn:hover {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }
        
        .tab-content {
            padding: 40px;
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .tab-content h3 {
            color: var(--text-dark);
            margin-bottom: 20px;
        }
        
        .tab-content p {
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        /* Reviews Section */
        .reviews-summary {
            display: grid;
            grid-template-columns: 200px 1fr;
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .rating-overview {
            text-align: center;
            padding: 30px;
            background: var(--background-light);
            border-radius: var(--border-radius);
        }
        
        .rating-score {
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary-color);
        }
        
        .rating-breakdown {
            margin-top: 20px;
        }
        
        .rating-bar {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .rating-bar-label {
            font-size: 0.9rem;
            color: var(--text-light);
            min-width: 60px;
        }
        
        .rating-bar-fill {
            flex: 1;
            height: 8px;
            background: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .rating-bar-progress {
            height: 100%;
            background: var(--warning-color);
        }
        
        .review-list {
            margin-bottom: 30px;
        }
        
        .review-item {
            border-bottom: 1px solid var(--border-color);
            padding: 30px 0;
        }
        
        .review-item:last-child {
            border-bottom: none;
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .reviewer-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .reviewer-avatar {
            width: 50px;
            height: 50px;
            background: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.2rem;
        }
        
        .reviewer-details h4 {
            margin: 0;
            color: var(--text-dark);
            font-size: 1.1rem;
        }
        
        .reviewer-details p {
            margin: 5px 0 0 0;
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        .review-date {
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        .review-content {
            color: var(--text-light);
            line-height: 1.6;
        }
        
        /* Related Products */
        .related-products {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 40px;
        }
        
        .related-products h3 {
            color: var(--text-dark);
            margin-bottom: 30px;
            font-size: 1.5rem;
        }
        
        .related-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }
        
        /* Image Zoom Modal */
        .image-zoom-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
            cursor: zoom-out;
        }
        
        .image-zoom-modal.active {
            display: flex;
        }
        
        .zoomed-image {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }
        
        .zoom-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .product-detail-main {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .product-gallery {
                position: static;
            }
            
            .gallery-thumbnails {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .product-info {
                padding: 20px;
            }
            
            .product-title {
                font-size: 1.8rem;
            }
            
            .price-current {
                font-size: 2rem;
            }
            
            .tab-navigation {
                overflow-x: auto;
            }
            
            .tab-btn {
                padding: 15px 20px;
                white-space: nowrap;
            }
            
            .tab-content {
                padding: 20px;
            }
            
            .reviews-summary {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .related-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
        
        @media (max-width: 480px) {
            .product-detail-container {
                padding: 0 15px;
            }
            
            .main-image-container {
                padding: 20px;
            }
            
            .main-image {
                height: 300px;
            }
            
            .quantity-selector {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .size-options,
            .color-options {
                justify-content: center;
            }
            
            .related-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="container">
                <div class="nav-content">
                    <div class="logo">
                        <a href="../index.html">
                            <i class="fas fa-shopping-basket"></i>
                            <span>Quick<strong>Basket</strong></span>
                        </a>
                    </div>
                    
                    <div class="nav-search">
                        <input type="text" placeholder="Search for products..." class="search-input">
                        <button class="search-btn">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    
                    <div class="nav-actions">
                        <button class="nav-btn location-btn" onclick="openLocationModal()">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Location</span>
                        </button>
                        
                        <button class="nav-btn account-btn" onclick="openAuthModal()">
                            <i class="fas fa-user"></i>
                            <span>Account</span>
                        </button>
                        
                        <button class="nav-btn cart-btn" onclick="toggleCart()">
                            <i class="fas fa-shopping-cart"></i>
                            <span>Cart</span>
                            <span class="cart-badge" id="cart-badge">0</span>
                        </button>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="product-detail-page">
        <div class="product-detail-container">
            <!-- Breadcrumb -->
            <nav class="breadcrumb">
                <a href="../index.html">Home</a>
                <span><i class="fas fa-chevron-right"></i></span>
                <a href="products.html">Products</a>
                <span><i class="fas fa-chevron-right"></i></span>
                <a href="category.html?category=Fresh Produce">Fresh Produce</a>
                <span><i class="fas fa-chevron-right"></i></span>
                <span id="product-breadcrumb">Product</span>
            </nav>

            <!-- Main Product Section -->
            <section class="product-detail-main">
                <!-- Product Gallery -->
                <div class="product-gallery">
                    <div class="main-image-container">
                        <div class="product-badges">
                            <span class="badge sale">20% OFF</span>
                            <span class="badge organic">Organic</span>
                        </div>
                        <div class="image-zoom-overlay">
                            <i class="fas fa-search-plus"></i>
                            <span>Click to zoom</span>
                        </div>
                        <img src="../images/placeholder.png" alt="Product Image" class="main-image" id="main-product-image" onclick="openImageZoom(this.src)">
                    </div>
                    
                    <div class="gallery-thumbnails">
                        <img src="../images/placeholder.png" alt="Product view 1" class="thumbnail active" onclick="changeMainImage(this)">
                        <img src="../images/placeholder.png" alt="Product view 2" class="thumbnail" onclick="changeMainImage(this)">
                        <img src="../images/placeholder.png" alt="Product view 3" class="thumbnail" onclick="changeMainImage(this)">
                        <img src="../images/placeholder.png" alt="Product view 4" class="thumbnail" onclick="changeMainImage(this)">
                    </div>
                </div>

                <!-- Product Info -->
                <div class="product-info">
                    <div class="product-brand" id="product-brand">FreshMart</div>
                    <h1 class="product-title" id="product-title">Organic Fresh Strawberries</h1>
                    
                    <div class="product-rating-section">
                        <div class="rating-stars" id="product-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <div class="rating-summary">
                            <span class="rating-value">4.5</span>
                            <span>•</span>
                            <span class="review-count" onclick="scrollToReviews()">267 reviews</span>
                        </div>
                    </div>
                    
                    <div class="product-price-section">
                        <span class="price-current" id="current-price">$8.99</span>
                        <span class="price-original" id="original-price">$11.99</span>
                        <span class="price-discount">25% OFF</span>
                    </div>
                    
                    <p class="product-description" id="product-description">
                        Fresh, juicy organic strawberries picked at peak ripeness. These premium berries are perfect for snacking, smoothies, desserts, or adding to your morning cereal. Grown without pesticides using sustainable farming practices.
                    </p>
                    
                    <div class="product-features">
                        <h3 class="features-title">Key Features</h3>
                        <ul class="features-list">
                            <li><i class="fas fa-check"></i> 100% Organic & Non-GMO</li>
                            <li><i class="fas fa-check"></i> Picked fresh daily</li>
                            <li><i class="fas fa-check"></i> Rich in Vitamin C & antioxidants</li>
                            <li><i class="fas fa-check"></i> Perfect for smoothies & desserts</li>
                            <li><i class="fas fa-check"></i> Sustainable farming practices</li>
                        </ul>
                    </div>
                    
                    <div class="product-options">
                        <div class="option-group">
                            <div class="option-title">Size</div>
                            <div class="size-options">
                                <div class="size-option selected" onclick="selectSize(this)" data-size="1lb">1 lb</div>
                                <div class="size-option" onclick="selectSize(this)" data-size="2lb">2 lb</div>
                                <div class="size-option" onclick="selectSize(this)" data-size="5lb">5 lb</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="quantity-selector">
                        <span class="quantity-label">Quantity:</span>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="decreaseQuantity()">−</button>
                            <input type="number" value="1" min="1" max="10" class="quantity-input" id="quantity-input">
                            <button class="quantity-btn" onclick="increaseQuantity()">+</button>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn-add-cart" onclick="addToCartFromDetail()">
                            <i class="fas fa-shopping-cart"></i>
                            Add to Cart - $8.99
                        </button>
                        <button class="btn-wishlist" onclick="toggleWishlistDetail()" title="Add to Wishlist">
                            <i class="far fa-heart"></i>
                        </button>
                        <button class="btn-compare" onclick="addToCompare()" title="Add to Compare">
                            <i class="fas fa-balance-scale"></i>
                        </button>
                    </div>
                    
                    <div class="product-meta">
                        <div class="meta-item">
                            <span>SKU:</span>
                            <strong>STR-ORG-001</strong>
                        </div>
                        <div class="meta-item">
                            <span>Category:</span>
                            <strong>Fresh Produce</strong>
                        </div>
                        <div class="meta-item">
                            <span>Availability:</span>
                            <strong style="color: var(--success-color);">In Stock (47 items)</strong>
                        </div>
                        <div class="meta-item">
                            <span>Delivery:</span>
                            <strong>Same day delivery available</strong>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Product Tabs -->
            <section class="product-tabs">
                <div class="tab-navigation">
                    <button class="tab-btn active" onclick="switchTab(this, 'description')">Description</button>
                    <button class="tab-btn" onclick="switchTab(this, 'reviews')">Reviews (267)</button>
                    <button class="tab-btn" onclick="switchTab(this, 'shipping')">Shipping & Returns</button>
                    <button class="tab-btn" onclick="switchTab(this, 'nutrition')">Nutrition Facts</button>
                </div>
                
                <div class="tab-content active" id="description-tab">
                    <h3>Product Description</h3>
                    <p>Our organic strawberries are cultivated using the finest sustainable farming methods, ensuring you get the best quality fruit while supporting environmental conservation. Each berry is carefully selected for optimal ripeness, sweetness, and nutritional value.</p>
                    
                    <p>These strawberries are perfect for:</p>
                    <ul>
                        <li>Fresh eating and snacking</li>
                        <li>Smoothies and juices</li>
                        <li>Baking and desserts</li>
                        <li>Breakfast toppings</li>
                        <li>Homemade jams and preserves</li>
                    </ul>
                    
                    <p>Storage: Keep refrigerated and consume within 3-5 days for best quality. Wash before eating.</p>
                </div>
                
                <div class="tab-content" id="reviews-tab">
                    <div class="reviews-summary">
                        <div class="rating-overview">
                            <div class="rating-score">4.5</div>
                            <div class="rating-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                            <p>Based on 267 reviews</p>
                        </div>
                        
                        <div class="rating-breakdown">
                            <div class="rating-bar">
                                <span class="rating-bar-label">5 stars</span>
                                <div class="rating-bar-fill">
                                    <div class="rating-bar-progress" style="width: 65%"></div>
                                </div>
                                <span>65%</span>
                            </div>
                            <div class="rating-bar">
                                <span class="rating-bar-label">4 stars</span>
                                <div class="rating-bar-fill">
                                    <div class="rating-bar-progress" style="width: 25%"></div>
                                </div>
                                <span>25%</span>
                            </div>
                            <div class="rating-bar">
                                <span class="rating-bar-label">3 stars</span>
                                <div class="rating-bar-fill">
                                    <div class="rating-bar-progress" style="width: 7%"></div>
                                </div>
                                <span>7%</span>
                            </div>
                            <div class="rating-bar">
                                <span class="rating-bar-label">2 stars</span>
                                <div class="rating-bar-fill">
                                    <div class="rating-bar-progress" style="width: 2%"></div>
                                </div>
                                <span>2%</span>
                            </div>
                            <div class="rating-bar">
                                <span class="rating-bar-label">1 star</span>
                                <div class="rating-bar-fill">
                                    <div class="rating-bar-progress" style="width: 1%"></div>
                                </div>
                                <span>1%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="review-list">
                        <div class="review-item">
                            <div class="review-header">
                                <div class="reviewer-info">
                                    <div class="reviewer-avatar">S</div>
                                    <div class="reviewer-details">
                                        <h4>Sarah Johnson</h4>
                                        <div class="rating-stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="review-date">2 days ago</div>
                            </div>
                            <div class="review-content">
                                <p>Absolutely amazing strawberries! They were so fresh and sweet. Perfect for my morning smoothies. Will definitely order again!</p>
                            </div>
                        </div>
                        
                        <div class="review-item">
                            <div class="review-header">
                                <div class="reviewer-info">
                                    <div class="reviewer-avatar">M</div>
                                    <div class="reviewer-details">
                                        <h4>Mike Chen</h4>
                                        <div class="rating-stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="review-date">1 week ago</div>
                            </div>
                            <div class="review-content">
                                <p>Great quality organic strawberries. They arrived fresh and well-packaged. My kids loved them!</p>
                            </div>
                        </div>
                        
                        <div class="review-item">
                            <div class="review-header">
                                <div class="reviewer-info">
                                    <div class="reviewer-avatar">L</div>
                                    <div class="reviewer-details">
                                        <h4>Lisa Rodriguez</h4>
                                        <div class="rating-stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="review-date">2 weeks ago</div>
                            </div>
                            <div class="review-content">
                                <p>Best strawberries I've bought online! Super sweet and juicy. The organic quality really makes a difference.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="shipping-tab">
                    <h3>Shipping Information</h3>
                    <p><strong>Same Day Delivery:</strong> Available for orders placed before 12:00 PM in select areas.</p>
                    <p><strong>Standard Delivery:</strong> 1-2 business days for most locations.</p>
                    <p><strong>Express Delivery:</strong> Next day delivery available for an additional fee.</p>
                    
                    <h3>Returns Policy</h3>
                    <p>We guarantee the freshness and quality of our produce. If you're not completely satisfied with your order, please contact us within 24 hours of delivery for a full refund or replacement.</p>
                    
                    <p><strong>Return Conditions:</strong></p>
                    <ul>
                        <li>Items must be in original packaging</li>
                        <li>Contact customer service within 24 hours</li>
                        <li>Photo documentation may be required</li>
                        <li>Refunds processed within 3-5 business days</li>
                    </ul>
                </div>
                
                <div class="tab-content" id="nutrition-tab">
                    <h3>Nutrition Facts</h3>
                    <p><strong>Serving Size:</strong> 1 cup (144g)</p>
                    
                    <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                        <tr style="border-bottom: 2px solid var(--border-color);">
                            <td style="padding: 10px; font-weight: bold;">Nutrient</td>
                            <td style="padding: 10px; font-weight: bold;">Amount</td>
                            <td style="padding: 10px; font-weight: bold;">% Daily Value</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border-color);">
                            <td style="padding: 10px;">Calories</td>
                            <td style="padding: 10px;">46</td>
                            <td style="padding: 10px;">2%</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border-color);">
                            <td style="padding: 10px;">Total Fat</td>
                            <td style="padding: 10px;">0.4g</td>
                            <td style="padding: 10px;">1%</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border-color);">
                            <td style="padding: 10px;">Sodium</td>
                            <td style="padding: 10px;">1mg</td>
                            <td style="padding: 10px;">0%</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border-color);">
                            <td style="padding: 10px;">Total Carbohydrate</td>
                            <td style="padding: 10px;">11g</td>
                            <td style="padding: 10px;">4%</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border-color);">
                            <td style="padding: 10px;">Dietary Fiber</td>
                            <td style="padding: 10px;">3g</td>
                            <td style="padding: 10px;">11%</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border-color);">
                            <td style="padding: 10px;">Total Sugars</td>
                            <td style="padding: 10px;">7g</td>
                            <td style="padding: 10px;">-</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border-color);">
                            <td style="padding: 10px;">Protein</td>
                            <td style="padding: 10px;">1g</td>
                            <td style="padding: 10px;">2%</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border-color);">
                            <td style="padding: 10px;">Vitamin C</td>
                            <td style="padding: 10px;">85mg</td>
                            <td style="padding: 10px;">94%</td>
                        </tr>
                    </table>
                </div>
            </section>

            <!-- Related Products -->
            <section class="related-products">
                <h3>You might also like</h3>
                <div class="related-grid" id="related-products-grid">
                    <!-- Related products will be loaded dynamically -->
                </div>
            </section>
        </div>
    </main>

    <!-- Image Zoom Modal -->
    <div class="image-zoom-modal" id="image-zoom-modal">
        <button class="zoom-close" onclick="closeImageZoom()">
            <i class="fas fa-times"></i>
        </button>
        <img src="" alt="Zoomed Product Image" class="zoomed-image" id="zoomed-image">
    </div>

    <!-- Cart Sidebar (from main page) -->
    <div class="cart-sidebar" id="cart-sidebar">
        <div class="cart-header">
            <h3>Shopping Cart</h3>
            <button class="close-cart" onclick="toggleCart()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="cart-items" id="cart-items">
            <!-- Cart items will be populated here -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total: $<span id="cart-total">0.00</span></span>
            </div>
            <button class="btn btn-primary checkout-btn" onclick="window.location.href='checkout.html'">
                Proceed to Checkout
            </button>
        </div>
    </div>

    <!-- Cart Overlay -->
    <div class="cart-overlay" id="cart-overlay"></div>

    <!-- Notification Container -->
    <div class="notification-container" id="notification-container"></div>

    <!-- JavaScript Files -->
    <script src="../js/products.js"></script>
    <script src="../js/cart.js"></script>
    <script src="../js/wishlist.js"></script>
    <script src="../js/search.js"></script>
    <script src="../js/auth.js"></script>
    <script src="../js/main.js"></script>
    
    <script>
        // Product Detail Page Functionality
        let currentProduct = null;
        let selectedSize = '1lb';
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadProductFromURL();
            loadRelatedProducts();
        });
        
        function loadProductFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');
            const productName = urlParams.get('name');
            
            if (productId && window.productManager) {
                currentProduct = window.productManager.getProductById(productId);
            } else if (productName && window.productManager) {
                currentProduct = window.productManager.getProductByName(productName);
            }
            
            if (currentProduct) {
                populateProductData(currentProduct);
            } else {
                // Default product data if none found
                currentProduct = {
                    id: 'default-strawberry',
                    name: 'Organic Fresh Strawberries',
                    brand: 'FreshMart',
                    price: '$8.99',
                    originalPrice: '$11.99',
                    description: 'Fresh, juicy organic strawberries picked at peak ripeness.',
                    rating: 4.5,
                    reviews: 267,
                    category: 'Fresh Produce',
                    image: '../images/placeholder.png'
                };
                populateProductData(currentProduct);
            }
        }
        
        function populateProductData(product) {
            document.getElementById('product-brand').textContent = product.brand || 'FreshMart';
            document.getElementById('product-title').textContent = product.name;
            document.getElementById('product-breadcrumb').textContent = product.name;
            document.getElementById('current-price').textContent = product.price;
            
            if (product.originalPrice) {
                document.getElementById('original-price').textContent = product.originalPrice;
            } else {
                document.getElementById('original-price').style.display = 'none';
            }
            
            document.getElementById('product-description').textContent = product.description;
            
            // Update main image
            const mainImage = document.getElementById('main-product-image');
            if (product.image) {
                mainImage.src = product.image;
                mainImage.alt = product.name;
            }
            
            // Update page title
            document.title = `${product.name} - QuickBasket`;
        }
        
        function changeMainImage(thumbnail) {
            const mainImage = document.getElementById('main-product-image');
            mainImage.src = thumbnail.src;
            
            // Update active thumbnail
            document.querySelectorAll('.thumbnail').forEach(thumb => {
                thumb.classList.remove('active');
            });
            thumbnail.classList.add('active');
        }
        
        function openImageZoom(imageSrc) {
            const modal = document.getElementById('image-zoom-modal');
            const zoomedImage = document.getElementById('zoomed-image');
            
            zoomedImage.src = imageSrc;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeImageZoom() {
            const modal = document.getElementById('image-zoom-modal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        
        function selectSize(element) {
            document.querySelectorAll('.size-option').forEach(option => {
                option.classList.remove('selected');
            });
            element.classList.add('selected');
            selectedSize = element.dataset.size;
            updateAddToCartButton();
        }
        
        function increaseQuantity() {
            const input = document.getElementById('quantity-input');
            const currentValue = parseInt(input.value);
            if (currentValue < parseInt(input.max)) {
                input.value = currentValue + 1;
                updateAddToCartButton();
            }
        }
        
        function decreaseQuantity() {
            const input = document.getElementById('quantity-input');
            const currentValue = parseInt(input.value);
            if (currentValue > parseInt(input.min)) {
                input.value = currentValue - 1;
                updateAddToCartButton();
            }
        }
        
        function updateAddToCartButton() {
            const quantity = parseInt(document.getElementById('quantity-input').value);
            const price = currentProduct?.price || '$8.99';
            const numericPrice = parseFloat(price.replace('$', ''));
            const totalPrice = (numericPrice * quantity).toFixed(2);
            
            const button = document.querySelector('.btn-add-cart');
            button.innerHTML = `
                <i class="fas fa-shopping-cart"></i>
                Add to Cart - $${totalPrice}
            `;
        }
        
        function addToCartFromDetail() {
            if (!currentProduct) return;
            
            const quantity = parseInt(document.getElementById('quantity-input').value);
            const productToAdd = {
                ...currentProduct,
                quantity: quantity,
                selectedSize: selectedSize
            };
            
            if (window.cart) {
                window.cart.addItem(productToAdd);
                
                // Show success animation
                const button = document.querySelector('.btn-add-cart');
                const originalContent = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check"></i> Added to Cart!';
                button.style.background = 'var(--success-color)';
                
                setTimeout(() => {
                    button.innerHTML = originalContent;
                    button.style.background = 'var(--primary-color)';
                }, 2000);
            }
        }
        
        function toggleWishlistDetail() {
            if (!currentProduct) return;
            
            const button = document.querySelector('.btn-wishlist');
            const icon = button.querySelector('i');
            
            if (icon.classList.contains('far')) {
                icon.classList.remove('far');
                icon.classList.add('fas');
                button.style.color = 'var(--error-color)';
                button.style.borderColor = 'var(--error-color)';
                
                if (window.quickBasketApp) {
                    window.quickBasketApp.showNotification('Added to wishlist', 'success');
                }
            } else {
                icon.classList.remove('fas');
                icon.classList.add('far');
                button.style.color = '';
                button.style.borderColor = '';
                
                if (window.quickBasketApp) {
                    window.quickBasketApp.showNotification('Removed from wishlist', 'info');
                }
            }
        }
        
        function addToCompare() {
            if (window.quickBasketApp) {
                window.quickBasketApp.showNotification('Product comparison feature coming soon!', 'info');
            }
        }
        
        function switchTab(button, tabId) {
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Add active class to clicked button
            button.classList.add('active');
            
            // Show selected tab content
            document.getElementById(tabId + '-tab').classList.add('active');
        }
        
        function scrollToReviews() {
            // Switch to reviews tab and scroll to it
            const reviewsTab = document.querySelector('[onclick="switchTab(this, \'reviews\')"]');
            switchTab(reviewsTab, 'reviews');
            
            document.querySelector('.product-tabs').scrollIntoView({
                behavior: 'smooth'
            });
        }
        
        function loadRelatedProducts() {
            const relatedGrid = document.getElementById('related-products-grid');
            
            // Sample related products
            const relatedProducts = [
                { name: 'Organic Blueberries', price: '$6.99', image: '../images/placeholder.png' },
                { name: 'Fresh Raspberries', price: '$7.99', image: '../images/placeholder.png' },
                { name: 'Organic Blackberries', price: '$8.99', image: '../images/placeholder.png' },
                { name: 'Mixed Berry Pack', price: '$12.99', image: '../images/placeholder.png' }
            ];
            
            relatedGrid.innerHTML = relatedProducts.map(product => `
                <div class="product-card"
                     data-product-id="rel-${product.name.replace(/\s+/g,'-').toLowerCase()}"
                     data-product-name="${product.name}"
                     data-product-price="${product.price}"
                     data-product-image="${product.image}"
                     data-category="fruits"
                     onclick="viewProduct('${product.name}')">
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}" loading="lazy">
                        <div class="product-actions">
                            <button class="action-btn wishlist-btn" title="Add to Wishlist">
                                <i class="far fa-heart"></i>
                            </button>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <div class="product-rating">
                            <div class="stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                            <span class="rating-value">4.5</span>
                        </div>
                        <div class="product-price">${product.price}</div>
                        <button class="add-to-cart-btn" onclick="event.stopPropagation()">
                            <i class="fas fa-shopping-cart"></i>
                            Add to Cart
                        </button>
                    </div>
                </div>
            `).join('');

            // Rebind wishlist buttons now that cards are in DOM
            if (window.wishlistManager) {
                setTimeout(() => window.wishlistManager.updateWishlistUI(), 0);
            }
        }
        
        function viewProduct(productName) {
            window.location.href = `product-detail.html?name=${encodeURIComponent(productName)}`;
        }
        
        // Update quantity input on manual change
        document.addEventListener('DOMContentLoaded', function() {
            const quantityInput = document.getElementById('quantity-input');
            if (quantityInput) {
                quantityInput.addEventListener('input', updateAddToCartButton);
            }
        });
        
        // Close zoom modal on click outside image
        document.getElementById('image-zoom-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeImageZoom();
            }
        });
        
        // Close zoom modal on escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeImageZoom();
            }
        });
    </script>
</body>
</html>